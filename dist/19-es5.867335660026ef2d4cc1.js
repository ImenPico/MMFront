(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"/yGZ":function(l,n,o){"use strict";o.r(n);var e=o("8Y7J"),u=o("r2/W"),t=o("VNpU"),r=function(){function l(l,n,o,e){this.auth=o,this.alfrescoService=e,this.router=l,this.form=n.group({username:[""],password:[""],application:["mm8"]}),this.username=this.form.controls.username,this.password=this.form.controls.password,this.application=this.form.controls.application,o.isLoggedIn()&&this.router.navigate(["/dashboard"])}return l.prototype.ngAfterViewInit=function(){document.getElementById("preloader").classList.add("hide")},l.prototype.onSubmit=function(l){var n=this;console.log(l.username),console.log(l),this.auth.getToken(l).subscribe((function(o){console.log("tokenAAAAAAAA",o.body),console.log("ddd "+JSON.stringify(o.headers.get("authorization")));var e=o.body;n.alfrescoService.loginWithUsernameAndPassword("admin","admin").then((function(l){console.log(l)})).catch((function(l){console.log("error with authentification alfresco",l)})),console.log(e),""!=e&&null!=e&&null!=e?(n.currentToken=e,localStorage.setItem("username",l.username),localStorage.setItem("token",e),sessionStorage.setItem("datalogin",l.username),n.auth.getRoleUser().subscribe((function(l){console.log("resultRole",l),console.log("Profile user",l.profiles),localStorage.setItem("roles",l.roles),localStorage.setItem("profiles",l.profiles),n.auth.getMy().subscribe((function(l){console.log("userProfileMailManager",l),localStorage.setItem("profileUser",l.data.displayname),n.username=l.data.displayname})),n.router.navigate(["/dashboard"])}))):n.currentToken="error"}),(function(l){console.log("error",l),401==l.status&&(n.router.navigate([""]),n.currentToken="error")}))},l}(),a=function(){},s=o("pMnS"),i=o("s7LF"),d=o("SVse"),c=o("iInd"),g=e["\u0275crt"]({encapsulation:2,styles:[[".login-container{position:absolute}.login-container .card .card-header{width:80px;height:80px;margin:-40px auto 0;border-radius:50%;font-size:36px}"]],data:{}});function m(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"div",[["class","text-danger "],["style","text-align: center!important;margin-bottom: 8px;font-weight: bolder;font-size: 15px;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Merci de v\xe9rifier votre nom d'utilisateur et mot de passe"]))],null,null)}function p(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,32,"div",[["class","d-flex justify-content-center align-items-center w-100 h-100 login-container"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,31,"div",[["class","col-xl-4 col-md-6 col-10"]],null,null,null,null,null)),(l()(),e["\u0275eld"](2,0,null,null,30,"div",[["class","card border-0 box-shadow rounded-0"]],null,null,null,null,null)),(l()(),e["\u0275eld"](3,0,null,null,1,"div",[["class","card-header d-flex justify-content-center align-items-center border-0 box-shadow"]],null,null,null,null,null)),(l()(),e["\u0275eld"](4,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-sign-in"]],null,null,null,null,null)),(l()(),e["\u0275eld"](5,0,null,null,26,"div",[["class","card-body text-center pb-1"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Member login"])),(l()(),e["\u0275eld"](8,0,null,null,23,"form",[["class","text-left mt-4"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,o){var u=!0,t=l.component;return"submit"===n&&(u=!1!==e["\u0275nov"](l,10).onSubmit(o)&&u),"reset"===n&&(u=!1!==e["\u0275nov"](l,10).onReset()&&u),"ngSubmit"===n&&(u=!1!==t.onSubmit(t.form.value)&&u),u}),null,null)),e["\u0275did"](9,16384,null,0,i["\u0275angular_packages_forms_forms_z"],[],null,null),e["\u0275did"](10,540672,null,0,i.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e["\u0275prd"](2048,null,i.ControlContainer,null,[i.FormGroupDirective]),e["\u0275did"](12,16384,null,0,i.NgControlStatusGroup,[[4,i.ControlContainer]],null,null),(l()(),e["\u0275eld"](13,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e["\u0275eld"](14,0,null,null,5,"input",[["class","form-control "],["placeholder","username"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,o){var u=!0;return"input"===n&&(u=!1!==e["\u0275nov"](l,15)._handleInput(o.target.value)&&u),"blur"===n&&(u=!1!==e["\u0275nov"](l,15).onTouched()&&u),"compositionstart"===n&&(u=!1!==e["\u0275nov"](l,15)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e["\u0275nov"](l,15)._compositionEnd(o.target.value)&&u),u}),null,null)),e["\u0275did"](15,16384,null,0,i.DefaultValueAccessor,[e.Renderer2,e.ElementRef,[2,i.COMPOSITION_BUFFER_MODE]],null,null),e["\u0275prd"](1024,null,i.NG_VALUE_ACCESSOR,(function(l){return[l]}),[i.DefaultValueAccessor]),e["\u0275did"](17,540672,null,0,i.FormControlDirective,[[8,null],[8,null],[6,i.NG_VALUE_ACCESSOR],[2,i["\u0275angular_packages_forms_forms_q"]]],{form:[0,"form"]},null),e["\u0275prd"](2048,null,i.NgControl,null,[i.FormControlDirective]),e["\u0275did"](19,16384,null,0,i.NgControlStatus,[[4,i.NgControl]],null,null),(l()(),e["\u0275eld"](20,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e["\u0275eld"](21,0,null,null,5,"input",[["class","form-control "],["placeholder","password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,o){var u=!0;return"input"===n&&(u=!1!==e["\u0275nov"](l,22)._handleInput(o.target.value)&&u),"blur"===n&&(u=!1!==e["\u0275nov"](l,22).onTouched()&&u),"compositionstart"===n&&(u=!1!==e["\u0275nov"](l,22)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e["\u0275nov"](l,22)._compositionEnd(o.target.value)&&u),u}),null,null)),e["\u0275did"](22,16384,null,0,i.DefaultValueAccessor,[e.Renderer2,e.ElementRef,[2,i.COMPOSITION_BUFFER_MODE]],null,null),e["\u0275prd"](1024,null,i.NG_VALUE_ACCESSOR,(function(l){return[l]}),[i.DefaultValueAccessor]),e["\u0275did"](24,540672,null,0,i.FormControlDirective,[[8,null],[8,null],[6,i.NG_VALUE_ACCESSOR],[2,i["\u0275angular_packages_forms_forms_q"]]],{form:[0,"form"]},null),e["\u0275prd"](2048,null,i.NgControl,null,[i.FormControlDirective]),e["\u0275did"](26,16384,null,0,i.NgControlStatus,[[4,i.NgControl]],null,null),(l()(),e["\u0275and"](16777216,null,null,1,null,m)),e["\u0275did"](28,16384,null,0,d.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275eld"](29,0,null,null,2,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e["\u0275eld"](30,0,null,null,1,"button",[["class","btn btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Login"])),(l()(),e["\u0275eld"](32,0,null,null,0,"div",[["class","card-footer text-center bg-transparent"]],null,null,null,null,null))],(function(l,n){var o=n.component;l(n,10,0,o.form),l(n,17,0,o.username),l(n,24,0,o.password),l(n,28,0,"error"==o.currentToken)}),(function(l,n){var o=n.component;l(n,8,0,e["\u0275nov"](n,12).ngClassUntouched,e["\u0275nov"](n,12).ngClassTouched,e["\u0275nov"](n,12).ngClassPristine,e["\u0275nov"](n,12).ngClassDirty,e["\u0275nov"](n,12).ngClassValid,e["\u0275nov"](n,12).ngClassInvalid,e["\u0275nov"](n,12).ngClassPending),l(n,14,0,e["\u0275nov"](n,19).ngClassUntouched,e["\u0275nov"](n,19).ngClassTouched,e["\u0275nov"](n,19).ngClassPristine,e["\u0275nov"](n,19).ngClassDirty,e["\u0275nov"](n,19).ngClassValid,e["\u0275nov"](n,19).ngClassInvalid,e["\u0275nov"](n,19).ngClassPending),l(n,21,0,e["\u0275nov"](n,26).ngClassUntouched,e["\u0275nov"](n,26).ngClassTouched,e["\u0275nov"](n,26).ngClassPristine,e["\u0275nov"](n,26).ngClassDirty,e["\u0275nov"](n,26).ngClassValid,e["\u0275nov"](n,26).ngClassInvalid,e["\u0275nov"](n,26).ngClassPending),l(n,30,0,!o.form.valid)}))}var f=e["\u0275ccf"]("app-login",r,(function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"app-login",[],null,null,null,p,g)),e["\u0275did"](1,4243456,null,0,r,[c.l,i.FormBuilder,u.a,t.a],null,null)],null,null)}),{},{},[]);o.d(n,"LoginModuleNgFactory",(function(){return v}));var v=e["\u0275cmf"](a,[],(function(l){return e["\u0275mod"]([e["\u0275mpd"](512,e.ComponentFactoryResolver,e["\u0275CodegenComponentFactoryResolver"],[[8,[s.a,f]],[3,e.ComponentFactoryResolver],e.NgModuleRef]),e["\u0275mpd"](4608,d.NgLocalization,d.NgLocaleLocalization,[e.LOCALE_ID,[2,d["\u0275angular_packages_common_common_a"]]]),e["\u0275mpd"](4608,i["\u0275angular_packages_forms_forms_o"],i["\u0275angular_packages_forms_forms_o"],[]),e["\u0275mpd"](4608,i.FormBuilder,i.FormBuilder,[]),e["\u0275mpd"](1073742336,d.CommonModule,d.CommonModule,[]),e["\u0275mpd"](1073742336,i["\u0275angular_packages_forms_forms_d"],i["\u0275angular_packages_forms_forms_d"],[]),e["\u0275mpd"](1073742336,i.FormsModule,i.FormsModule,[]),e["\u0275mpd"](1073742336,i.ReactiveFormsModule,i.ReactiveFormsModule,[]),e["\u0275mpd"](1073742336,c.n,c.n,[[2,c.s],[2,c.l]]),e["\u0275mpd"](1073742336,a,a,[]),e["\u0275mpd"](1024,c.j,(function(){return[[{path:"",component:r,pathMatch:"full"}]]}),[])])}))}}]);